新・SQL入門編02ドリル
<会員のリストを取得しよう>
step1　注文履歴を取得しよう
SELECT * FROM ordered;
/*コメントアウト　SELECT * FROM テーブル名 で、テーブル名 のテーブルのすべてのレコードを取得することができる
よって、SELECT * FROM ordered; と書く*/

step2　注文内容を取得しよう
SELECT * FROM ordered_menu;
/*ordered_menu テーブルのすべてのレコードを取得すればよい
SELECT * FROM テーブル名 で、テーブル名 のテーブルのすべてのレコードを取得することができる
よって、SELECT * FROM ordered_menu; と書く*/

step3　メニューを取得しよう
SELECT * FROM menu;
/*問題文から、menu テーブルのすべてのレコードを取得すればよいとわかる。
SELECT * FROM テーブル名 で、テーブル名 のテーブルのすべてのレコードを取得することができる
よって、SELECT * FROM menu; と書く*/

step4　カテゴリを取得しよう
SELECT * FROM category;
/*問題文から、category テーブルのすべてのレコードを取得すればよいとわかる
SELECT * FROM テーブル名 で、テーブル名 のテーブルのすべてのレコードを取得することができる
よって、SELECT * FROM category; と書く*/

final　会員のリストを取得しよう
SELECT * FROM customer;
/*問題文から、customer テーブルのすべてのレコードを取得すればよいとわかる.
SELECT * FROM テーブル名 で、テーブル名 のテーブルのすべてのレコードを取得することができる
よって、SELECT * FROM customer; と書く*/

<漢字名、ひらがな、入会日、居住地を取得しよう>
step1　合計金額を取得しよう
SELECT bill FROM ordered;
/*問題文から、ordered テーブルの bill カラムを取得すればよいとわかる
SELECT カラム名1, カラム名2, ... FROM テーブル名で、テーブル名 のテーブルの カラム名1, カラム名2, ... カラムを取得することができる
よって、SELECT bill FROM ordered; と書く*/
  
step2　注文番号を取得しよう
SELECT ordered_id FROM ordered_menu;
/*問題文から、ordered_menu テーブルの ordered_id カラムを取得すればよいとわかる
SELECT カラム名1, カラム名2, ... FROM テーブル名で、テーブル名 のテーブルの カラム名1, カラム名2, ... カラムを取得することができる
よって、SELECT ordered_id FROM ordered_menu; と書く*/

step3　メニュー名を取得しよう
SELECT name FROM menu;
/*問題文から、menu テーブルの name カラムを取得すればよいとわかる
  SELECT カラム名1, カラム名2, ... FROM テーブル名で、テーブル名 のテーブルの カラム名1, カラム名2, ... カラムを取得することができる
よって、SELECT name FROM menu; と書く*/

step4　カテゴリ名を取得しよう
SELECT name FROM category;
/*問題文から、category テーブルの name カラムを取得すればよいとわかる
SELECT カラム名1, カラム名2, ... FROM テーブル名で、テーブル名 のテーブルの カラム名1, カラム名2, ... カラムを取得することができる
よって、SELECT name FROM category; と書く*/

step5　居住地を取得しよう
SELECT residence FROM customer;
/*問題文から、customer テーブルの residence カラムを取得すればよいとわかる
SELECT カラム名1, カラム名2, ... FROM テーブル名で、テーブル名 のテーブルの カラム名1, カラム名2, ... カラムを取得することができる
よって、SELECT residence FROM customer; と書く*/

step6　注文数、小計を取得しよう
SELECT num, sum FROM ordered_menu;
/*問題文から、ordered_menu テーブルの num カラムと sum カラムを取得すればよいとわかる
SELECT カラム名1, カラム名2, ... FROM テーブル名で、テーブル名 のテーブルの カラム名1, カラム名2, ... カラムを取得することができる
よって、SELECT num, sum FROM ordered_menu; と書く*/

step7　メニュー名、価格を取得しよう
SELECT name, price FROM menu;
/*問題文から、menu テーブルの name カラムと price カラムを取得すればよいとわかる
SELECT カラム名1, カラム名2, ... FROM テーブル名で、テーブル名 のテーブルの カラム名1, カラム名2, ... カラムを取得することができる
よって、SELECT name, price FROM menu; と書く*/

step8　漢字名、ふりがなを取得しよう
SELECT name, name_yomi FROM customer;
/*問題文から、customer テーブルの name カラムと name_yomi カラムを取得すればよいとわかる
SELECT カラム名1, カラム名2, ... FROM テーブル名で、テーブル名 のテーブルの カラム名1, カラム名2, ... カラムを取得することができる
よって、SELECT name, name_yomi FROM customer; と書く*/

step9　注文番号、メニュー番号、注文数を取得しよう
SELECT ordered_id, menu_id, num FROM ordered_menu;
/*問題文から、ordered_menu テーブルの ordered_id カラムと menu_id カラム、num カラムを取得すればよいとわかる
SELECT カラム名1, カラム名2, ... FROM テーブル名で、テーブル名 のテーブルの カラム名1, カラム名2, ... カラムを取得することができる
よって、SELECT ordered_id, menu_id, num FROM ordered_menu; と書く*/

final　漢字名、ふりがな、入会日、居住地を取得しよう
SELECT name, name_yomi, join_date, residence FROM customer;
/*問題文から、customer テーブルの name カラムと name_yomi カラム、join_date カラム、residence カラムを取得すればよいとわかる
SELECT カラム名1, カラム名2, ... FROM テーブル名で、テーブル名 のテーブルの カラム名1, カラム名2, ... カラムを取得することができる
よって、SELECT name, name_yomi, join_date, residence FROM customer; と書く*/

<メニューを安い順に並べ替えよう>
step1　合計金額の昇順に並べ替えよう
SELECT * FROM ordered ORDER BY bill;
/*問題文から、ordered テーブルのすべてのレコードを、bill カラムの値の昇順に並べ替えればよいとわかる
SELECT * FROM テーブル名 で テーブル名 のテーブルのすべてのレコードを取得することができる
ORDER BY カラム名 で、レコードを カラム名 カラムの値の昇順に並べ替えることができる
よって、SELECT * FROM ordered ORDER BY bill; と書く*/

step2　注文数の昇順に並べ替えよう
SELECT * FROM ordered_menu ORDER BY num;
/*問題文から、ordered_menu テーブルのすべてのレコードを、num カラムの値の昇順に並べ替えればよいとわかる*
SELECT * FROM テーブル名 で テーブル名 のテーブルのすべてのレコードを取得することができる
ORDER BY カラム名 で、レコードを カラム名 カラムの値の昇順に並べ替えることができる
よって、SELECT * FROM ordered_menu ORDER BY num; と書く*/

step3　カテゴリ番号の昇順に並べ替えよう
SELECT * FROM category ORDER BY category_id;
/*問題文から、category テーブルのすべてのレコードを、category_id カラムの昇順に並べ替えればよいとわかる
SELECT * FROM テーブル名 で テーブル名 のテーブルのすべてのレコードを取得することができる
ORDER BY カラム名 で、レコードを カラム名 カラムの値の昇順に並べ替えることができる
よって、SELECT * FROM category ORDER BY category_id; と書く*/

step4　小計の昇順に並べ替えよう
SELECT ordered_id, sum FROM ordered_menu ORDER BY sum;
/*問題文から、
category テーブルの ordered_id カラムと sum カラムを取得する
sum カラムの昇順に並べ替える
ことをすればよいとわかる
SELECT ordered_id, sum FROM ordered_menu ORDER BY sum;
SELECT カラム名1, カラム名2, ... FROM テーブル名で、テーブル名 のテーブルの カラム名1, カラム名2, ... カラムを取得することができる
ORDER BY カラム名 で、レコードを カラム名 カラムの値の昇順に並べ替えることができる
よって、SELECT ordered_id, sum FROM ordered_menu ORDER BY sum; と書く
*/

step5　カテゴリ番号の昇順に並べ替えよう
SELECT category_id, name FROM menu ORDER BY category_id;
/*問題文から、
category テーブルの category_id カラムと name カラムを取得する
category_id カラムの昇順に並べ替える
ことをすればよいとわかる
SELECT カラム名1, カラム名2, ... FROM テーブル名で、テーブル名 のテーブルの カラム名1, カラム名2, ... カラムを取得することができる
ORDER BY カラム名 で、レコードを カラム名 カラムの値の昇順に並べ替えることができる
よって、SELECT category_id, name FROM menu ORDER BY category_id; と書く*/

step6　通し番号の昇順に並べ替えよう
SELECT customer_id, name, residence FROM customer ORDER BY customer_id;
/*問題文から、
customer テーブルの customer_id カラムと name カラム、residence カラムを取得する
customer_id カラムの昇順に並べ替える
ことをすればよいとわかる
SELECT カラム名1, カラム名2, ... FROM テーブル名で、テーブル名 のテーブルの カラム名1, カラム名2, ... カラムを取得することができる
ORDER BY カラム名 で、レコードを カラム名 カラムの値の昇順に並べ替えることができる
よって、SELECT customer_id, name, residence FROM customer ORDER BY customer_id; と書く*/

final　メニューを安い順に並べ替えよう
SELECT * FROM menu ORDER BY price;
/*問題文の「価格の安い順」は「価格の昇順」と読み替えることができる
つまり、menu テーブルのすべてのレコードを price カラムの昇順に並べ替えればよいとわかる
SELECT * FROM テーブル名 で テーブル名 のテーブルのすべてのレコードを取得することができる
ORDER BY カラム名 で、レコードを カラム名 カラムの値の昇順に並べ替えることができる
よって、SELECT * FROM menu ORDER BY price; と書く*/

<合計金額の高い順に並べ替えよう>
step1　注文数の降順に並べ替えよう
SELECT * FROM ordered_menu ORDER BY num DESC;
/*問題文から、ordered_menu テーブルのすべてのレコードを、num カラムの値の降順に並べ替えればよいとわかる
SELECT * FROM テーブル名 で テーブル名 のテーブルのすべてのレコードを取得することができる
ORDER BY カラム名 DESC で、レコードを カラム名 カラムの値の降順に並べ替えることができる
よって、SELECT * FROM ordered_menu ORDER BY num DESC; と書く*/

step2　カテゴリ番号の降順に並べ替えよう
SELECT * FROM category ORDER BY category_id DESC;
/*問題文から、category テーブルのすべてのレコードを、category_id カラムの値の降順に並べ替えればよいとわかる
SELECT * FROM テーブル名 で テーブル名 のテーブルのすべてのレコードを取得することができる
ORDER BY カラム名 DESC で、レコードを カラム名 カラムの値の降順に並べ替えることができる
よって、SELECT * FROM category ORDER BY category_id DESC; と書く*/

step3　価格の降順に並べ替えよう
SELECT * FROM menu ORDER BY price DESC;
/*問題文から、menu テーブルのすべてのレコードを、price カラムの値の降順に並べ替えればよいとわかる
SELECT * FROM テーブル名 で テーブル名 のテーブルのすべてのレコードを取得することができる
ORDER BY カラム名 DESC で、レコードを カラム名 カラムの値の降順に並べ替えることができる
よって、SELECT * FROM menu ORDER BY price DESC; と書く*/

step4　小計の降順に並べ替えよう
SELECT ordered_id, sum FROM ordered_menu ORDER BY sum DESC;
/*問題文から、
ordered_menu テーブルの ordered_id カラムと sum カラムを取得する
sum カラムの降順に並べ替える
ことをすればよいとわかる
SELECT カラム名1, カラム名2, ... FROM テーブル名で、テーブル名 のテーブルの カラム名1, カラム名2, ... カラムを取得することができる
ORDER BY カラム名 DESC で、レコードを カラム名 カラムの値の降順に並べ替えることができる
よって、SELECT ordered_id, sum FROM ordered_menu ORDER BY sum DESC; と書く*/

step5　注文番号の降順に並べ替えよう
SELECT ordered_id, datetime FROM ordered ORDER BY ordered_id DESC;
/*問題文から、
ordered テーブルの ordered_id カラムと datetime カラムを取得する
ordered_id カラムの降順に並べ替える
ことをすればよいとわかる
SELECT カラム名1, カラム名2, ... FROM テーブル名で、テーブル名 のテーブルの カラム名1, カラム名2, ... カラムを取得することができる
ORDER BY カラム名 DESC で、レコードを カラム名 カラムの値の降順に並べ替えることができる
よって、SELECT ordered_id, datetime FROM ordered ORDER BY ordered_id DESC; と書く*/

step6　通し番号の降順に並べ替えよう
SELECT customer_id, name, name_yomi FROM customer ORDER BY customer_id DESC;
/*問題文から、
customer テーブルの customer_id カラムと name カラム、name_yomi カラムを取得する
customer_id カラムの降順に並べ替える
ことをすればよいとわかる
SELECT カラム名1, カラム名2, ... FROM テーブル名で、テーブル名 のテーブルの カラム名1, カラム名2, ... カラムを取得することができる
ORDER BY カラム名 DESC で、レコードを カラム名 カラムの値の降順に並べ替えることができる
よって、SELECT customer_id, name, name_yomi FROM customer ORDER BY customer_id DESC; と書く*/

final　合計金額の高い順に並べ替えよう
SELECT * FROM ordered ORDER BY bill DESC;
/*問題文の「注文の合計金額の高い順」は「注文の合計金額の降順」と読み替えることができる
つまり、ordered テーブルのすべてのレコードを bill カラムの降順に並べ替えればよいとわかる
SELECT * FROM テーブル名 で テーブル名 のテーブルのすべてのレコードを取得することができる
ORDER BY カラム名 DESC で、レコードを カラム名 カラムの値の降順に並べ替えることができる
よって、SELECT * FROM ordered ORDER BY bill DESC; と書く*/

<入会した順に並べ替えよう>
step1　日時の昇順に並べ替えよう
SELECT * FROM ordered ORDER BY datetime;
/*問題文から、ordered テーブルのすべてのレコードを、datetime カラムの値の昇順に並べ替えればよいとわかる
SELECT * FROM テーブル名 で テーブル名 のテーブルのすべてのレコードを取得することができる
ORDER BY カラム名 で、レコードを カラム名 カラムの値の昇順に並べ替えることができる
カラムの値が整数でないときも並べ替えることができる
今回は日時の並べ替え
よって、SELECT * FROM ordered ORDER BY datetime; と書く*/

step2　カテゴリ名の昇順に並べ替えよう
SELECT * FROM category ORDER BY name;
/*問題文から、category テーブルのすべてのレコードを、name カラムの値の昇順に並べ替えればよいとわかる
SELECT * FROM テーブル名 で テーブル名 のテーブルのすべてのレコードを取得することができる
ORDER BY カラム名 で、レコードを カラム名 カラムの値の昇順に並べ替えることができる
カラムの値が整数でないときも並べ替えることができる
今回は文字列の並べ替え
よって、SELECT * FROM category ORDER BY name; と書く
【 補足 】
日本語の文字列を ORDER BY で並べ替える場合、環境によって並べ替えた結果が変わることがあります。
たとえば、データベースで使用している文字コードが異なる場合、結果が異なることがあります。
データベースで使用している文字コードは、SHOW CREATE DATABASE "データベース名" で確認できます。
SQL ドリルの各問題では、test という名前のデータベースを使っています。*/

step3　ふりがなの昇順に並べ替えよう
SELECT * FROM customer ORDER BY name_yomi;
/*問題文から、customer テーブルのすべてのレコードを、name_yomi カラムの値の昇順に並べ替えればよいとわかる
SELECT * FROM テーブル名 で テーブル名 のテーブルのすべてのレコードを取得することができる
ORDER BY カラム名 で、レコードを カラム名 カラムの値の昇順に並べ替えることができる
カラムの値が整数でないときも並べ替えることができる
今回は文字列の並べ替え
よって、SELECT * FROM customer ORDER BY name_yomi; と書く*/

step4　メニュー名の昇順に並べ替えよう
SELECT name, price FROM menu ORDER BY name;
/*問題文から、
menu テーブルの name カラムと price カラムを取得する
name カラムの昇順に並べ替える
ことをすればよいとわかる

SELECT カラム名1, カラム名2, ... FROM テーブル名で、テーブル名 のテーブルの カラム名1, カラム名2, ... カラムを取得することができる
ORDER BY カラム名 で、レコードを カラム名 カラムの値の昇順に並べ替えることができる
カラムの値が整数でないときも並べ替えることができる
今回は文字列の並べ替え
よって、SELECT name, price FROM menu ORDER BY name; と書く*/

step5　漢字名の昇順に並べ替えよう
SELECT name, name_yomi FROM customer ORDER BY name;
/*問題文から、
customer テーブルの name カラムと name_yomi カラムを取得する
name カラムの昇順に並べ替える
ことをすればよいとわかる
基本的に、漢字を昇順に並べ替えようとしても辞書順にならない
これは、漢字に割り振られた文字コードを見て、並べ替えをおこなっているため
文字コードとは、文字に割り振られる一意の値のことで、コンピュータが文字を扱うために使われる

SELECT カラム名1, カラム名2, ... FROM テーブル名で、テーブル名 のテーブルの カラム名1, カラム名2, ... カラムを取得することができる
ORDER BY カラム名 で、レコードを カラム名 カラムの値の昇順に並べ替えることができる
カラムの値が整数でないときも並べ替えることができる
今回は文字列の並べ替え
よって、SELECT name, name_yomi FROM customer ORDER BY name; と書く*/

final　入会した順に並べ替えよう
SELECT * FROM customer ORDER BY join_date;
/*問題文の「入会日が早い順」は「入会日の昇順」と読み替えることができる
つまり、customer テーブルのすべてのレコードを join_date カラムの昇順に並べ替えればよいとわかる
SELECT * FROM テーブル名 で テーブル名 のテーブルのすべてのレコードを取得することができる
ORDER BY カラム名 で、レコードを カラム名 カラムの値の昇順に並べ替えることができる
カラムの値が整数でないときも並べ替えることができる
今回は日付の並べ替え
よって、SELECT * FROM customer ORDER BY join_date; と書く*/

<注文番号、小計、メニュー番号についての条件で並べ替えよう>
step1　注文番号、注文数についての条件で並べ替えよう
SELECT * FROM ordered_menu ORDER BY ordered_id, num DESC;
/*問題文から、ordered_menu テーブルのすべてのレコードを
ordered_id カラムの昇順
そして ordered_id カラムの値が同じとき、num カラムの降順
に並べ替えればよいとわかる
SELECT * FROM テーブル名 で テーブル名 のテーブルのすべてのレコードを取得することができる
ORDER BY カラム名1, カラム名2 DESC で、レコードを
カラム名1 カラムの値の昇順
そして カラム名1 カラムの値が同じとき、カラム名2 カラムの値の降順
に並べ替えることができる
よって、SELECT * FROM ordered_menu ORDER BY ordered_id, num DESC; と書く*/

step2　価格、メニュー名についての条件で並べ替えよう
SELECT * FROM menu ORDER BY price DESC, name;
/*問題文から、menu テーブルのすべてのレコードを
price カラムの降順
そして price カラムの値が同じとき、name カラムの昇順
に並べ替えればよいとわかる
SELECT * FROM テーブル名 で テーブル名 のテーブルのすべてのレコードを取得することができる
ORDER BY カラム名1 DESC, カラム名2 で、レコードを
カラム名1 カラムの値の降順
そして カラム名1 カラムの値が同じとき、カラム名2 カラムの値の昇順
に並べ替えることができる
よって、SELECT * FROM menu ORDER BY price DESC, name; と書く*/

step3　注文数、小計についての条件で並べ替えよう
SELECT ordered_id, num, sum FROM ordered_menu ORDER BY num DESC, sum DESC;
/*問題文から、ordered_menu テーブルのすべてのレコードを
num カラムの降順
そして num カラムの値が同じとき、sum カラムの降順
に並べ替えればよいとわかる
SELECT カラム名1, カラム名2, ... FROM テーブル名で、テーブル名 のテーブルの カラム名1, カラム名2, ... カラムを取得することができる
ORDER BY カラム名1 DESC, カラム名2 DESC で、レコードを
カラム名1 カラムの値の降順
そして カラム名1 カラムの値が同じとき、カラム名2 カラムの値の降順
に並べ替えることができる
よって、SELECT ordered_id, num, sum FROM ordered_menu ORDER BY num DESC, sum DESC; と書く*/

step4　入会日、名前（ふりがな）についての条件で並べ替えよう
final　注文番号、小計、メニュー番号についての条件で並べ替えよう

<価格の高い順に10件取得しよう>
step1　上から50件を取得しよう
step2　上から25件を取得しよう
step3　昇順に並べ替えて、上位10件を取得しよう
step4　降順に並べ替えて、上位100件を取得しよう
step5　複数の条件で並べ替えて、上位5件を取得しよう
step6  複数の条件で並べ替えて、上位30件を取得しよう
final　価格の高い順に10件取得しよう
